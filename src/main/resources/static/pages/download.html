<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Demo</title>
    <script src="./jquery.min.js" type="text/javascript"></script>
    <script src="./jquery.easyui.min.js" type="text/javascript"></script>
    <link rel="stylesheet" type="text/css" href="themes/bootstrap/easyui.css">
    <script src="public/public.js" type="text/javascript"></script>
</head>
<body>
<div class="easyui-layout" style="width:100%;height:900px;">
    <div data-options="region:'center',iconCls:'icon-ok'" style="padding-left: 10px">
        <label>下载的URL地址</label>
        <br>
        <input class="easyui-textbox" style="width: 80%;" id="url">
        <br>
        <label>下载的文件名</label>
        <br>
        <input class="easyui-textbox" style="width: 80%;" id="fileName">
        <br>
        <label>下载需要的参数</label>
        <br>
        <input class="easyui-textbox" style="width: 80%;" id="params" data-options="prompt:'FileExt=txt&FileID=123'">
        <br>
        <span><a href="javascript:;" class="easyui-linkbutton" style="margin: 2px 2px 2px 2px;margin-left: 30%"
                 onclick="cleanAll()">清空所有输入框</a>
            <a href="javascript:;" class="easyui-linkbutton" style="margin: 2px 2px 2px 2px;margin-left: 1%"
                 onclick="downloadFile()">下载</a></span>
    </div>
</div>
<script type="text/javascript">
    $(function () {
        $("#url").textbox("setValue", "");
        $("#params").textbox("setValue","FileID=Document_9cf288d4-e28e-43ef-a73d-182b6a7a2d6f&FileType=Document&FileExt=docx");
        $("#fileName").textbox("setValue","供应链平台上线测试计划.docx");
    });

    function downloadFile() {
        let uri = $("#url").textbox("getValue");
        let fileName = $("#fileName").textbox("getValue");
        let params = $("#params").textbox("getValue");
        window.location = "/download?uri=" + uri + "&fileName=" + fileName + "&" + params;
    }

    function cleanAll() {
        $("#url").textbox("setValue", "");
        $("#params").textbox("setValue","");
        $("#fileName").textbox("setValue","");
    }
</script>
</body>
</html>